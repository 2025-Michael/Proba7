<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–°–ª–∞–π–¥-—à–æ—É –≤—Å—Ç—Ä–µ—á–∏ –æ–¥–Ω–æ–∫—É—Ä—Å–Ω–∏–∫–æ–≤</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #1a1a1a;
            color: #fff;
            overflow: hidden;
        }

        #start-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 3000;
        }

        #start-screen.hidden {
            display: none;
        }

        .start-box {
            background: white;
            padding: 80px 100px;
            border-radius: 30px;
            text-align: center;
            box-shadow: 0 30px 80px rgba(0,0,0,0.4);
        }

        .start-box h1 {
            color: #667eea;
            font-size: 3.5rem;
            margin-bottom: 20px;
        }

        .start-box p {
            color: #666;
            font-size: 1.3rem;
            margin-bottom: 50px;
        }

        #start-btn {
            background: #22c55e;
            color: white;
            border: none;
            padding: 25px 80px;
            border-radius: 15px;
            font-size: 1.5rem;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 10px 30px rgba(34, 197, 94, 0.3);
        }

        #start-btn:hover {
            background: #16a34a;
            transform: scale(1.05);
        }

        #loading-msg {
            margin-top: 20px;
            color: #999;
            font-size: 1rem;
            display: none;
        }

        #slideshow-container {
            width: 100vw;
            height: 100vh;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #000;
        }

        .slide {
            position: absolute;
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: opacity 1.5s ease-in-out;
        }

        .slide.active {
            opacity: 1;
            z-index: 1;
        }

        .slide img {
            max-width: 95%;
            max-height: 95%;
            object-fit: contain;
            box-shadow: 0 20px 60px rgba(0,0,0,0.8);
        }

        .text-slide {
            text-align: center;
            padding: 60px;
        }

        .title-slide h1 {
            font-size: 5rem;
            margin-bottom: 30px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-shadow: none;
        }

        .title-slide p {
            font-size: 2.2rem;
            color: #ccc;
        }

        .intro-slide {
            font-size: 2rem;
            line-height: 1.8;
            color: #e0e0e0;
            max-width: 1200px;
            margin: 0 auto;
        }

        .list-slide h2 {
            font-size: 3rem;
            margin-bottom: 40px;
            color: #667eea;
        }

        .list-slide ul {
            text-align: left;
            font-size: 1.4rem;
            line-height: 2.2;
            list-style: none;
            columns: 2;
            column-gap: 80px;
            max-width: 1200px;
            margin: 0 auto;
        }

        .list-slide li {
            margin-bottom: 15px;
            padding-left: 35px;
            position: relative;
            break-inside: avoid;
        }

        .list-slide li:before {
            content: "‚Ä¢";
            position: absolute;
            left: 0;
            color: #667eea;
            font-size: 1.8rem;
        }

        .list-slide li.memorial {
            color: #ffd700;
            font-weight: 600;
        }

        .list-slide li.memorial:before {
            content: "‚úù";
            color: #ffd700;
        }

        #controls {
            position: fixed;
            bottom: 40px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0,0,0,0.8);
            padding: 20px 40px;
            border-radius: 50px;
            display: none;
            gap: 25px;
            align-items: center;
            z-index: 1000;
            backdrop-filter: blur(10px);
        }

        #controls.visible {
            display: flex;
        }

        button {
            background: #667eea;
            border: none;
            color: white;
            padding: 15px 25px;
            border-radius: 30px;
            cursor: pointer;
            font-size: 1.1rem;
            transition: all 0.3s;
        }

        button:hover {
            background: #764ba2;
            transform: scale(1.1);
        }

        #counter {
            color: #fff;
            font-size: 1.2rem;
            min-width: 100px;
            text-align: center;
        }

        #progress-bar {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 6px;
            background: rgba(255,255,255,0.2);
            display: none;
            z-index: 999;
        }

        #progress-bar.visible {
            display: block;
        }

        #progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
            width: 0%;
            transition: width 0.5s;
        }

        .config-note {
            background: #f0f0f0;
            color: #333;
            padding: 30px;
            margin-top: 30px;
            border-radius: 15px;
            font-size: 0.95rem;
            line-height: 1.6;
        }

        .config-note h3 {
            color: #667eea;
            margin-bottom: 15px;
        }

        .config-note code {
            background: #e0e0e0;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: monospace;
        }
    </style>
</head>
<body>
    <div id="start-screen">
        <div class="start-box">
            <h1>üì∏ –í—Å—Ç—Ä–µ—á–∞ –æ–¥–Ω–æ–∫—É—Ä—Å–Ω–∏–∫–æ–≤</h1>
            <p>–°–ª–∞–π–¥-—à–æ—É –≥–æ—Ç–æ–≤–æ –∫ –ø–æ–∫–∞–∑—É</p>
            <button id="start-btn">‚ñ∂ –ù–∞—á–∞—Ç—å –ø–æ–∫–∞–∑</button>
            <div id="loading-msg">–ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤...</div>
        </div>
    </div>

    <div id="slideshow-container"></div>

    <div id="controls">
        <button id="prev-btn">‚èÆ –ù–∞–∑–∞–¥</button>
        <button id="play-pause-btn">‚è∏ –ü–∞—É–∑–∞</button>
        <button id="next-btn">–í–ø–µ—Ä—ë–¥ ‚è≠</button>
        <div id="counter">1 / 1</div>
    </div>

    <div id="progress-bar">
        <div id="progress-fill"></div>
    </div>

    <audio id="background-music"></audio>

    <script>
        // ==========================================
        // –ù–ê–°–¢–†–û–ô–ö–ò: –£–∫–∞–∂–∏—Ç–µ –∏–º–µ–Ω–∞ –≤–∞—à–∏—Ö —Ñ–∞–π–ª–æ–≤
        // ==========================================
        
        // –°–ø–∏—Å–æ–∫ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π –≤ –ø–∞–ø–∫–µ photos/
        const photoFiles = [
            'P5220493.JPG',
            'P5220500.JPG',
            'P5220501.JPG',
            'P5220503.JPG',
            'P5220504.JPG',
			'P5220505.JPG',
            'P5220506.JPG',
            'P5220507.JPG',
            'P5220508.JPG',
            'P5220509.JPG',
			'P5220510.JPG',
            'P5220511.JPG',
            'P5220512.JPG',
            'P5220513.JPG',
            'P5220514.JPG',
			'P5220515.JPG',
            'P5220516.JPG',
            'P5220517.JPG',
            'P5220520.JPG',
            'P5220521.JPG',
			'P5220522.JPG',
            'P5220523.JPG',
            'P5220524.JPG',
            'P5220525.JPG',
            'P5220526.JPG',
			'P5220527.JPG',
            'P5220528.JPG',
            'P5220529.JPG',
            'P5220530.JPG',
            'P5230533.JPG',
			'P5230540.JPG',
            'P5230541.JPG',
            'P5230542.JPG',
            'P5230543.JPG',
            'P5230544.JPG',
			'P5220519.JPG',
            'P5220518.JPG',
            'P5230531.JPG',
            'P5230556.JPG',
            'P5230546.JPG',
			'P5230547.JPG',
            'P5230548.JPG',
            'P5230549.JPG',
            'P5230550.JPG',
			'P5230551.JPG',
            'P5230552.JPG',
            'P5230553.JPG',
            'P5230554.JPG',
            'P5230555.JPG',

            // –î–æ–±–∞–≤—å—Ç–µ –≤—Å–µ –≤–∞—à–∏ —Ñ–æ—Ç–æ –∑–¥–µ—Å—å
        ];
        
        // –°–ø–∏—Å–æ–∫ –º—É–∑—ã–∫–∞–ª—å–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ –≤ –ø–∞–ø–∫–µ music/
        const musicFiles = [
            '20-vot_uhodit_nashe_vremya.mp3',
            '17-spokoino_druzhishe_spokoino.mp3',
			'11-rabota.mp3',
            '21-sretenskii_dvor.mp3',
			'07-na_plato_rasvuncher.mp3',
            '19-napolnim_muzykoi_serdtca.mp3',
			'09-katolicheskaya_tcerkovj.mp3',
            '09-pesnya_aljpinistov.mp3',
			'02-ohotnyi_ryad.mp3',
            '21-tost_za_zhenjku.mp3',
            // –î–æ–±–∞–≤—å—Ç–µ –≤—Å–µ –≤–∞—à–∏ –º—É–∑—ã–∫–∞–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã –∑–¥–µ—Å—å
        ];
        
        // –í—Ä–µ–º—è –ø–æ–∫–∞–∑–∞ –æ–¥–Ω–æ–≥–æ —Å–ª–∞–π–¥–∞ (–≤ —Å–µ–∫—É–Ω–¥–∞—Ö)
        const slideDuration = 20;
        
        // ==========================================
        // –ö–û–î –ü–†–û–ì–†–ê–ú–ú–´ (–Ω–µ –∏–∑–º–µ–Ω—è–π—Ç–µ –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏)
        // ==========================================
        
        let slides = [];
        let currentSlide = 0;
        let isPlaying = false;
        let timer = null;
        let currentMusicIndex = 0;
        const slideTime = slideDuration * 1000;

        const startScreen = document.getElementById('start-screen');
        const container = document.getElementById('slideshow-container');
        const controls = document.getElementById('controls');
        const progressBar = document.getElementById('progress-bar');
        const progressFill = document.getElementById('progress-fill');
        const counter = document.getElementById('counter');
        const playPauseBtn = document.getElementById('play-pause-btn');
        const music = document.getElementById('background-music');
        const startBtn = document.getElementById('start-btn');
        const loadingMsg = document.getElementById('loading-msg');

        startBtn.addEventListener('click', function() {
            loadingMsg.style.display = 'block';
            startBtn.disabled = true;
            
            setTimeout(() => {
                createSlides();
                startScreen.classList.add('hidden');
                controls.classList.add('visible');
                progressBar.classList.add('visible');
                showSlide(0);
                play();
                
                // –ó–∞–≥—Ä—É–∂–∞–µ–º –∏ –∑–∞–ø—É—Å–∫–∞–µ–º –ø–µ—Ä–≤—ã–π –º—É–∑—ã–∫–∞–ª—å–Ω—ã–π —Ñ–∞–π–ª
                if (musicFiles.length > 0) {
                    music.src = musicFiles[0];  // —Ñ–∞–π–ª—ã –≤ –∫–æ—Ä–Ω–µ, –±–µ–∑ –ø–∞–ø–∫–∏
                    music.play().catch(e => {
                        console.log('–î–ª—è –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞ –º—É–∑—ã–∫–∏ –∫–ª–∏–∫–Ω–∏—Ç–µ –≤ –ª—é–±–æ–º –º–µ—Å—Ç–µ');
                        document.body.addEventListener('click', () => music.play(), {once: true});
                    });
                }
            }, 500);
        });

        // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π —Ç—Ä–µ–∫ –ø—Ä–∏ –æ–∫–æ–Ω—á–∞–Ω–∏–∏ —Ç–µ–∫—É—â–µ–≥–æ
        music.addEventListener('ended', function() {
            if (musicFiles.length > 0) {
                currentMusicIndex = (currentMusicIndex + 1) % musicFiles.length;
                music.src = musicFiles[currentMusicIndex];  // —Ñ–∞–π–ª—ã –≤ –∫–æ—Ä–Ω–µ, –±–µ–∑ –ø–∞–ø–∫–∏
                music.play().catch(e => console.log('–û—à–∏–±–∫–∞ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è —Å–ª–µ–¥—É—é—â–µ–≥–æ —Ç—Ä–µ–∫–∞:', e));
            }
        });

        function createSlides() {
            container.innerHTML = '';
            
            // –ó–∞–≥–ª–∞–≤–Ω—ã–π —Å–ª–∞–π–¥
            const titleSlide = document.createElement('div');
            titleSlide.className = 'slide text-slide title-slide';
            titleSlide.innerHTML = `
                <div>
                    <h1>–í—Å—Ç—Ä–µ—á–∞ –æ–¥–Ω–æ–∫—É—Ä—Å–Ω–∏–∫–æ–≤</h1>
                    <p>–í–æ—Å–ø–æ–º–∏–Ω–∞–Ω–∏—è –æ —Å—Ç—É–¥–µ–Ω—á–µ—Å–∫–∏—Ö –≥–æ–¥–∞—Ö</p>
                </div>
            `;
            container.appendChild(titleSlide);

            // –í—Å—Ç—É–ø–ª–µ–Ω–∏–µ 1
            const intro1 = document.createElement('div');
            intro1.className = 'slide text-slide intro-slide';
            intro1.innerHTML = `
                <div>
                    –î–æ—Ä–æ–≥–∏–µ –¥—Ä—É–∑—å—è!<br><br>
                    –ú—ã —Å–Ω–æ–≤–∞ –≤–º–µ—Å—Ç–µ, —á—Ç–æ–±—ã –≤—Å–ø–æ–º–Ω–∏—Ç—å —Ç–µ –Ω–µ–∑–∞–±—ã–≤–∞–µ–º—ã–µ –≥–æ–¥—ã,<br>
                    –∫–æ—Ç–æ—Ä—ã–µ –º—ã –ø—Ä–æ–≤–µ–ª–∏ –≤ —Å—Ç–µ–Ω–∞—Ö –Ω–∞—à–µ–≥–æ —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–∞.
                </div>
            `;
            container.appendChild(intro1);

            // –í—Å—Ç—É–ø–ª–µ–Ω–∏–µ 2
            const intro2 = document.createElement('div');
            intro2.className = 'slide text-slide intro-slide';
            intro2.innerHTML = `
                <div>
                    –ì–æ–¥—ã –ª–µ—Ç—è—Ç, –Ω–æ –ø–∞–º—è—Ç—å –æ —Å–æ–≤–º–µ—Å—Ç–Ω—ã—Ö –ª–µ–∫—Ü–∏—è—Ö,<br>
                    —ç–∫–∑–∞–º–µ–Ω–∞—Ö –∏ –≤–µ—Å—ë–ª—ã—Ö –º–æ–º–µ–Ω—Ç–∞—Ö<br>
                    –Ω–∞–≤—Å–µ–≥–¥–∞ –æ—Å—Ç–∞—ë—Ç—Å—è –≤ –Ω–∞—à–∏—Ö —Å–µ—Ä–¥—Ü–∞—Ö.
                </div>
            `;
            container.appendChild(intro2);

            // –§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏
            photoFiles.forEach(photoFile => {
                const photoSlide = document.createElement('div');
                photoSlide.className = 'slide';
                const img = document.createElement('img');
                img.src = photoFile;  // —Ñ–∞–π–ª—ã –≤ –∫–æ—Ä–Ω–µ, –±–µ–∑ –ø–∞–ø–∫–∏
                img.onerror = function() {
                    console.error('–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–æ—Ç–æ:', photoFile);
                };
                photoSlide.appendChild(img);
                container.appendChild(photoSlide);
            });

            // –°–ø–∏—Å–æ–∫ –æ–¥–Ω–æ–∫—É—Ä—Å–Ω–∏–∫–æ–≤
            const listSlide = document.createElement('div');
            listSlide.className = 'slide text-slide list-slide';
            listSlide.innerHTML = `
                <div>
                    <h2>–ù–∞—à–∏ –æ–¥–Ω–æ–∫—É—Ä—Å–Ω–∏–∫–∏</h2>
                    <ul>
                        <li>–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤–∏—á</li>
                        <li>–ü–µ—Ç—Ä–æ–≤–∞ –ú–∞—Ä–∏—è –°–µ—Ä–≥–µ–µ–≤–Ω–∞</li>
                        <li class="memorial">–°–∏–¥–æ—Ä–æ–≤ –ê–ª–µ–∫—Å–µ–π –ù–∏–∫–æ–ª–∞–µ–≤–∏—á</li>
                        <li>–ö–æ–∑–ª–æ–≤–∞ –ï–ª–µ–Ω–∞ –í–ª–∞–¥–∏–º–∏—Ä–æ–≤–Ω–∞</li>
                        <li>–°–º–∏—Ä–Ω–æ–≤ –î–º–∏—Ç—Ä–∏–π –û–ª–µ–≥–æ–≤–∏—á</li>
                        <li>–ù–æ–≤–∏–∫–æ–≤–∞ –ê–Ω–Ω–∞ –ò–≤–∞–Ω–æ–≤–Ω–∞</li>
                        <li class="memorial">–ú–æ—Ä–æ–∑–æ–≤ –°–µ—Ä–≥–µ–π –ü–µ—Ç—Ä–æ–≤–∏—á</li>
                        <li>–°–æ–∫–æ–ª–æ–≤–∞ –û–ª—å–≥–∞ –í–∞—Å–∏–ª—å–µ–≤–Ω–∞</li>
                    </ul>
                </div>
            `;
            container.appendChild(listSlide);

            // –§–∏–Ω–∞–ª—å–Ω—ã–π —Å–ª–∞–π–¥
            const finalSlide = document.createElement('div');
            finalSlide.className = 'slide text-slide title-slide';
            finalSlide.innerHTML = `
                <div>
                    <h1>–°–ø–∞—Å–∏–±–æ –∑–∞ –≤–Ω–∏–º–∞–Ω–∏–µ!</h1>
                    <p>–î–æ –Ω–æ–≤—ã—Ö –≤—Å—Ç—Ä–µ—á!</p>
                </div>
            `;
            container.appendChild(finalSlide);

            slides = document.querySelectorAll('.slide');
            counter.textContent = `1 / ${slides.length}`;
        }

        function showSlide(index) {
            slides.forEach(slide => slide.classList.remove('active'));
            slides[index].classList.add('active');
            currentSlide = index;
            counter.textContent = `${index + 1} / ${slides.length}`;
            updateProgress();
        }

        function updateProgress() {
            const progress = ((currentSlide + 1) / slides.length) * 100;
            progressFill.style.width = progress + '%';
        }

        function nextSlide() {
            if (currentSlide < slides.length - 1) {
                showSlide(currentSlide + 1);
            } else {
                showSlide(0);
            }
        }

        function prevSlide() {
            if (currentSlide > 0) {
                showSlide(currentSlide - 1);
            } else {
                showSlide(slides.length - 1);
            }
        }

        function play() {
            isPlaying = true;
            playPauseBtn.textContent = '‚è∏ –ü–∞—É–∑–∞';
            timer = setInterval(nextSlide, slideTime);
            if (music.src && music.paused) {
                music.play().catch(e => console.log('–û—à–∏–±–∫–∞ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è:', e));
            }
        }

        function pause() {
            isPlaying = false;
            playPauseBtn.textContent = '‚ñ∂ –ò–≥—Ä–∞—Ç—å';
            clearInterval(timer);
            if (music.src && !music.paused) {
                music.pause();
            }
        }

        document.getElementById('prev-btn').addEventListener('click', () => {
            prevSlide();
            if (isPlaying) {
                pause();
                play();
            }
        });

        document.getElementById('next-btn').addEventListener('click', () => {
            nextSlide();
            if (isPlaying) {
                pause();
                play();
            }
        });

        playPauseBtn.addEventListener('click', () => {
            if (isPlaying) {
                pause();
            } else {
                play();
            }
        });

        document.addEventListener('keydown', (e) => {
            if (!startScreen.classList.contains('hidden')) return;
            
            if (e.key === 'ArrowLeft') {
                prevSlide();
                if (isPlaying) {
                    pause();
                    play();
                }
            }
            if (e.key === 'ArrowRight') {
                nextSlide();
                if (isPlaying) {
                    pause();
                    play();
                }
            }
            if (e.key === ' ') {
                e.preventDefault();
                if (isPlaying) pause();
                else play();
            }
        });
    </script>
</body>
</html>
